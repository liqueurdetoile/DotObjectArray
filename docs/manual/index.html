<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../">
  <title data-ice="title">Manual | DotObjectArray | Implements array-like methods for Object with support for dotted notation keys</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<link rel="stylesheet" href="./inject/css/0-styles.css"><script src="./inject/script/0-docs.js"></script><meta name="description" content="Implements array-like methods for Object with support for dot notation keys"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="DotObjectArray | Implements array-like methods for Object with support for dotted notation keys"><meta property="twitter:description" content="Implements array-like methods for Object with support for dot notation keys"></head>
<body class="layout-container manual-root" data-ice="rootContainer">

<header>
  <a href="./" style="display: flex; align-items: center;"><img src="./image/brand_logo.png" style="width:34px;"></a>
  <a href="./manual/index.html" data-ice="manualHeaderLink">Manual</a>
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  <a href="test.html" data-ice="testLink">Test</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/liqueurdetoile/dotobjectarray.git"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div class="manual-toc-root">
  
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h2" data-link="manual/index.html"><a href="manual/index.html#installation" data-ice="link">Installation</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/index.html"><a href="manual/index.html#as-a-module" data-ice="link">As a module</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/index.html"><a href="manual/index.html#in-browser" data-ice="link">In browser</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/index.html"><a href="manual/index.html#create-an-instance" data-ice="link">Create an instance</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/index.html"><a href="manual/index.html#data-managemement" data-ice="link">Data managemement</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/index.html"><a href="manual/index.html#raw-data-getter-and-setter" data-ice="link">Raw data getter and setter</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/index.html"><a href="manual/index.html#fetch-dataset" data-ice="link">Fetch dataset</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/index.html"><a href="manual/index.html#typeerror-exception-when-key-does-not-exist" data-ice="link">TypeError exception when key does not exist</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/index.html"><a href="manual/index.html#push-data" data-ice="link">Push data</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/index.html"><a href="manual/index.html#import-data" data-ice="link">Import data</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/index.html"><a href="manual/index.html#push-and-import-in-dataset" data-ice="link">Push and import in dataset</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/index.html"><a href="manual/index.html#empty-data-and-remove-dataset" data-ice="link">Empty data and remove dataset</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/index.html"><a href="manual/index.html#getset-to-pull-push-import-in-one-method" data-ice="link">Getset to pull/push/import in one method</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/index.html"><a href="manual/index.html#utility-methods" data-ice="link">Utility methods</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/index.html"><a href="manual/index.html#check-key-existence" data-ice="link">Check key existence</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/index.html"><a href="manual/index.html#get-length-of-a-dataset" data-ice="link">get length of a dataset</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/index.html"><a href="manual/index.html#get-array-of-keys-or-array-of-values-of-a-dataset" data-ice="link">Get array of keys or array of values of a dataset</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/index.html"><a href="manual/index.html#flatten-data-and-datasets" data-ice="link">Flatten data and datasets</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/index.html"><a href="manual/index.html#clone" data-ice="link">Clone</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/index.html"><a href="manual/index.html#iterations" data-ice="link">Iterations</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/index.html"><a href="manual/index.html#foreach" data-ice="link">forEach</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/index.html"><a href="manual/index.html#reduce" data-ice="link">reduce</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/index.html"><a href="manual/index.html#serializers" data-ice="link">Serializers</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/index.html"><a href="manual/index.html#stylestostring" data-ice="link">stylesToString</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/index.html"><a href="manual/index.html#urlencode" data-ice="link">urlEncode</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/index.html"><a href="manual/index.html#formurlencode" data-ice="link">formUrlEncode</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/index.html"><a href="manual/index.html#parsers" data-ice="link">Parsers</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/index.html"><a href="manual/index.html#stringtostyles" data-ice="link">stringToStyles</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/index.html"><a href="manual/index.html#helpers" data-ice="link">Helpers</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/index.html"><a href="manual/index.html#camelize" data-ice="link">camelize</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/index.html"><a href="manual/index.html#dashize" data-ice="link">dashize</a></li>
</ul>
  </div>
</div>
</nav>

<div class="content" data-ice="content"><div class="github-markdown" data-ice="content"><h2 id="installation">Installation</h2><h3 id="as-a-module">As a module</h3><p>The ObjectArray class is provided as a UMD module available on NPM.</p>
<pre><code><code class="source-code prettyprint">npm install dot-object-array</code>
</code></pre><p>Then simply require/import it :</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import ObjectArray from &apos;dot-object-array&apos;;
const ObjectArray = require(&apos;dot-object-array&apos;).default;</code>
</code></pre>
<p>ObjectArray have been built on a ECMA6 class with a default export. that&apos;s the reason why one must append <code>default</code> to the require call.</p>
<h3 id="in-browser">In browser</h3><p>For browser install, you can simply fetch <code>dist/objectarray.min.js</code> in this repo and load it :</p>
<pre><code class="lang-html"><code class="source-code prettyprint">&lt;script type=&quot;text/javascript&quot; src=&quot;myJsFolder/objectarray.min.js&quot;&gt;&lt;/script&gt;</code>
</code></pre>
<p>An ObjectArray constructor will be added to global (window) scope.</p>
<h2 id="create-an-instance">Create an instance</h2><p>You can create an instance by calling <code>new ObjectArray()</code> or initialize it with data at creation :</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">// Vanilla object
var test = {
  test1: &apos;fixture&apos;,
  test2: {
    subtest1: &apos;subfixture1&apos;,
    subtest2: &apos;subfixture2&apos;
  }
};

var doa = new ObjectArray(test);</code>
</code></pre>
<h2 id="data-managemement">Data managemement</h2><h3 id="raw-data-getter-and-setter">Raw data getter and setter</h3><p>The whole data object will be accessible and mutable through the <code>data</code> property :</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">var doa = new ObjectArray();
// Set the data
doa.data = {test: &apos;fixture&apos;};
// Get the data
console.log(doa.data.test) //Output &apos;fixture&apos;</code>
</code></pre>
<p>You can only treat with the whole data object through this property. <em>Data is kept under a &quot;private&quot; <code>_data</code> property that can be accessed though I do not recommend it, especially for imports</em></p>
<h3 id="fetch-dataset">Fetch dataset</h3><p>Specific dataset linked to a key can be retrieved with the <code>dataset</code> method (or its alias <code>pull</code> method) and using dot notation :</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">var doa = new ObjectArray({
  dat: {
    long: {
      path: &apos;fixture1&apos;,
      dream: &apos;fixture2&apos;
    }
  }
});

// Get the dataset
console.log(doa.dataset(&apos;dat.long&apos;)) //Output {path: &apos;fixture1&apos;, dream: &apos;fixture2&apos;}
// or
console.log(doa.pull(&apos;dat.long&apos;)) //Output {path: &apos;fixture1&apos;, dream: &apos;fixture2&apos;}</code>
</code></pre>
<p>Calling <code>doa.dataset()</code> will return the whole data object.</p>
<p>Using <code>doa.dataset(&apos;dat.stupid.path.to.things&apos;)</code> will throw a TypeError because keys don&apos;t exist.</p>
<h3 id="typeerror-exception-when-key-does-not-exist">TypeError exception when key does not exist</h3><p>By default, all data queries methods with parameters (keys, values, dataset, ...) will throw a TypeError if key does not exist.
With <code>pull</code> and <code>getset</code>, you can set the throwable parameter to <code>false</code> to disable throwing exception and return <code>undefined</code> instead.</p>
<h3 id="push-data">Push data</h3><p>As an array, you can push data by calling the <code>push</code> method of the ObjectArray. You can use dotted key notation and ObjectArray will take care to create all needed keys.</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">var doa = new ObjectArray();
doa.push(&apos;dat.really.long.path&apos;, &apos;fixture&apos;);
console.log(doa.data);
// will output {dat:{really:{long:{path:&quot;fixture&quot;}}}}</code>
</code></pre>
<p>You can safely <a href="#import-data">import</a> or <a href="#push-data">push</a> an ObjectArray into another ObjectArray at any level. The data will be safe.</p>
<h3 id="import-data">Import data</h3><p>If you want to import multiple keys at once, you can do only one call to <code>import</code> :</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">var doa = new ObjectArray();
doa.import({
  &apos;dat.really.long.path&apos;, &apos;fixture1&apos;,
  &apos;dat.really.long.dream&apos;, &apos;fixture2&apos;,
  &apos;dat.shorter.path&apos;, &apos;fixture3&apos;
);
console.log(doa.data);
// will output {dat:{really:{long:{path:&quot;fixture1&quot;,dream:&quot;fixture2&quot;}},shorter:{path:&quot;fixture3&quot;}}}</code>
</code></pre>
<p>You can safely <a href="#import-data">import</a> or <a href="#push-data">push</a> an ObjectArray into another ObjectArray at any level. The data will be safe.</p>
<h3 id="push-and-import-in-dataset">Push and import in dataset</h3><p>You can easily push or import in dataset with an extra parameter.</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">var doa = new ObjectArray();
doa.push(&apos;dat.really.long.path&apos;, &apos;fixture1&apos;);
doa.push(&apos;dream&apos;, &apos;fixture2&apos;, &apos;dat.really.long&apos;);
doa.import({
  &apos;shorter.path&apos;: &apos;fixture3&apos;
}, &apos;dat&apos;);

console.log(doa.data);
// will output {dat:{really:{long:{path:&quot;fixture1&quot;,dream:&quot;fixture2&quot;}},shorter:{path:&quot;fixture3&quot;}}}</code>
</code></pre>
<p>You can safely <a href="#import-data">import</a> or <a href="#push-data">push</a> an ObjectArray into another ObjectArray at any level. The data will be safe.</p>
<h3 id="empty-data-and-remove-dataset">Empty data and remove dataset</h3><p>To remove the data linked to a key, simply call <code>remove</code> method while providing the key to delete</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">var doa = new ObjectArray({
  dat: {
    long: {
      path: &apos;fixture1&apos;,
      dream: &apos;fixture2&apos;
    }
  }
});

// Delete dat.long.path
doa.remove(&apos;dat.long.dream&apos;);

console.log(doa.dataset(&apos;dat.long&apos;)) //Output {path: &apos;fixture1&apos;}</code>
</code></pre>
<p>Wider, the <code>empty</code> method is an alias to <code>remove</code> method if a key is provided but completely empty ObjectArray data if called without parameter.</p>
<h3 id="getset-to-pull-push-import-in-one-method">Getset to pull/push/import in one method</h3><p>The getset method is a convenient shortcut that will get, set or import data given its parameters. See <a href="/class/src/index.js~ObjectArray.html#instance-method-getset">getset reference</a> for examples.</p>
<h2 id="utility-methods">Utility methods</h2><h3 id="check-key-existence">Check key existence</h3><p>Use the <code>has</code> method</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">var doa = new ObjectArray({
  dat: {
    long: {
      path: &apos;fixture1&apos;,
      dream: &apos;fixture2&apos;
    }
  }
});

doa.has(&apos;dat.long.path&apos;); // returns true
doa.has(&apos;dat.short.path&apos;); // returns false</code>
</code></pre>
<h3 id="get-length-of-a-dataset">get length of a dataset</h3><p>Use the <code>length</code> method with the key of the dataset. Providing no key means to be the top-level of the data object.</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">var doa = new ObjectArray({
  dat: {
    long: {
      path: &apos;fixture1&apos;,
      dream: &apos;fixture2&apos;
    }
  }
});

doa.length(); // returns 1 (one key in the dataset : dat
doa.length(&apos;data.long&apos;); // returns 2 (two keys in the dataset : path and dream</code>
</code></pre>
<p>The method will return <code>undefined</code> if the key doesn&apos;t exist.</p>
<h3 id="get-array-of-keys-or-array-of-values-of-a-dataset">Get array of keys or array of values of a dataset</h3><p>Use the <code>keys</code> or <code>values</code> method with the key of the dataset. Providing no key means to be the top-level of the data object.</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">var doa = new ObjectArray({
  dat: {
    long: {
      path: &apos;fixture1&apos;,
      dream: &apos;fixture2&apos;
    }
  }
});

doa.keys(); // returns [&apos;dat&apos;]
doa.values(); // returns [{long:{path:&apos;fixture1&apos;, dream:&apos;fixture2&apos;}}], not very useful in this case
doa.keys(&apos;dat.long&apos;); // returns [&apos;path&apos;,&apos;dream&apos;]
doa.values(&apos;dat.long&apos;); // returns [&apos;fixture1&apos;,&apos;fixture2&apos;]</code>
</code></pre>
<p>The methods will return <code>undefined</code> if the key doesn&apos;t exist.</p>
<h3 id="flatten-data-and-datasets">Flatten data and datasets</h3><p>You can use the <code>flatten</code> method to flatten all underlying data levels to the root or a given key dataset. <strong>Warning : The data of the ObjectArray will be flattened and it couldn&apos;t be undone without the dotted parameters set to true</strong>.</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">var doa = new ObjectArray({
  dat: {
    long: {
      path: &apos;fixture1&apos;,
      dream: &apos;fixture2&apos;
    }
  }
});

// Flatten at root without path
doa.flatten();
console.log(doa.data); // Output {path: &apos;fixture1&apos;, dream: &apos;fixture2&apos;}
// Flatten at root without path
doa.flatten(true);
console.log(doa.data); // Output {dat.long.path: &apos;fixture1&apos;, dat.long.dream: &apos;fixture2&apos;}</code>
</code></pre>
<h3 id="clone">Clone</h3><p>The <code>clone</code> method returns a brand new clone of the current ObjectArray. If you have flattened dotted keys, you can provide <code>false</code>as parameter to unflatten the data and restore the object hierarchy.</p>
<h2 id="iterations">Iterations</h2><h3 id="foreach">forEach</h3><p>The <code>forEach</code> method works exactly the same way than in the vanilla <code>Array</code> object.
The <a href="./manual/ForEachCallback">callback</a> can take as much as four arguments.
A forEach call can be done only on a subset with a second parameter.</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">var doa = new ObjectArray({
  dat: {
    long: {
      path: &apos;fixture1&apos;,
      dream: &apos;fixture2&apos;
    }
  }
});

doa.forEach(function(value, key, index) {
  console.log(key);
}); // will output dat

doa.forEach(function(value, key, index) {
  console.log(value);
}, &apos;dat.long&apos;); // will output &apos;fixture1&apos;, &apos;fixture2&apos;</code>
</code></pre>
<h3 id="reduce">reduce</h3><p>The <code>reduce</code> method works exactly the same way than in the vanilla <code>Array</code>,
 except that the key and the path are provided to the callback function as a third and fourth parameters.</p>
<p>As forEach, reduce can be easily run on a subset instead at top-level with providing the key of the subset as second parameter. <a href="https://github.com/liqueurdetoile/DotObjectArray/blob/master/docs/api.md">See API for details</a></p>
<h2 id="serializers">Serializers</h2><p>Embedded Serializers are provided for common cases. Each can be run on a dataset with providing the dotted key of the dataset as parameter.</p>
<h3 id="stylestostring">stylesToString</h3><p>stylesToString will convert the dataset to a string suitable to a <code>style</code> attribute. Keys will be converted from camel-case to dash-case if needed.</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">let doa = new ObjectArray({
  position: &apos;absolute&apos;,
  display: &apos;flex&apos;
});

doa.styleString(): // returns &apos;position:absolute;display:flex&apos;</code>
</code></pre>
<h3 id="urlencode">urlEncode</h3><p>urlEncode will convert the dataset to a string suitable to a query part of an URI</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">let doa = new ObjectArray({
  input: &apos;test&apos;,
  glob: &apos;**/*&apos;,
  alias: &apos;test fixture&apos;
});

doa.urlEncode(): // returns &apos;input=test&amp;glob=**%2F*&amp;alias=test%20fixture&apos;</code>
</code></pre>
<h3 id="formurlencode">formUrlEncode</h3><p>formUrlEncode will convert the dataset to a string suitable for sending as a <code>form-url-encoded</code> data</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">let doa = new ObjectArray({
  input: &apos;test&apos;,
  glob: &apos;**/*&apos;,
  alias: &apos;test fixture&apos;
});

doa.urlEncode(): // returns &apos;input=test&amp;glob=**%2F*&amp;alias=test+fixture&apos;</code>
</code></pre>
<h2 id="parsers">Parsers</h2><h3 id="stringtostyles">stringToStyles</h3><p>stringToStyles will import a style-like string, split it into keys/values data and stores then into data. Keys will be converted from dash-case to camel-case if needed.</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">let doa = new ObjectArray();

doa.stringToStyles(&apos;position:absolute;display:flex&apos;);

console.log(doa.data): // outputs {position: &apos;absolute&apos;, display: &apos;flex&apos;}</code>
</code></pre>
<h2 id="helpers">Helpers</h2><h3 id="camelize">camelize</h3><p>camelize will convert a string to camel-case by removing spaces or dashes and uppercasing following letter.</p>
<h3 id="dashize">dashize</h3><p>camelize will convert a string to dash-case by replacing spaces with dashes and prepending dash to each capitalized first-letter and lowercase them/</p>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.0.4)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
