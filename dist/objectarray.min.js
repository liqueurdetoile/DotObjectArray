!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ObjectArray=e():t.ObjectArray=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this._data={},this.import(e)}return o(t,[{key:"_key",value:function(t,e){if(e&&(t=e+"."+t),this.has(t)||void 0===t)return t;throw new TypeError("Inexistent key, key : "+t+", Parent key : "+e)}},{key:"clone",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=new t;return e?n._data=this._data:n.import(this._data),n}},{key:"empty",value:function(t,e){return t=this._key(t,e),t?this.remove(t):this._data={},this}},{key:"length",value:function(t,e){return this.keys(this._key(t,e)).length}},{key:"keys",value:function(t,e){var n=[],r=this.dataset(this._key(t,e));for(var i in r)n.push(i);return n}},{key:"values",value:function(t,e){var n=[],r=this.dataset(this._key(t,e));for(var i in r)n.push(r[i]);return n}},{key:"has",value:function(t,e){var n=void 0,r=void 0,i=this._data;if(void 0===t)return!1;for(e&&(t=e+"."+t),t=t.split("."),n=0;n<t.length;n++){if(r=t[n],void 0===i[r])return!1;i=i[r]}return!0}},{key:"check",value:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(this.has(t,n)){var i=this.pull(t,n);return r?e===i:e==i}return!1}},{key:"dataset",value:function(t,e){var n=void 0,r=void 0,i=this.data;if(void 0!==(t=this._key(t,e)))for(t=t.split("."),n=0;n<t.length;n++)r=t[n],i=i[r];return i}},{key:"pull",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{return this.dataset(t,e)}catch(t){if(n)throw t;return}}},{key:"getset",value:function(t,e,n,r){var i={set:!1};return void 0===t?i.get=this.pull(n,null,r):"string"==typeof t?void 0===e?i.get=this.pull(t,n,r):(i.set=!0,this.push(t,e,n)):(i.set=!0,this.import(t,e)),i}},{key:"parentKey",value:function(t){if(void 0!==t&&(t=t.split("."),t.pop(),t.length))return t=t.join(".")}},{key:"childKey",value:function(t){if(void 0!==t&&(t=t.split("."),t.shift(),t.length))return t=t.join(".")}},{key:"_recurseFlatten",value:function(t,e,n){var r=void 0,o=this.dataset(n);for(var u in o)"object"===i(o[u])?this._recurseFlatten(t,e,n?n+"."+u:u):(n=this.childKey(n)?this.childKey(n):n,r=e&&n?n+"."+u:u,t[r]=o[u]);return t}},{key:"flatten",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments[1],n=void 0;if(void 0===e)n=this._recurseFlatten({},t);else{if(!this.has(e))throw new TypeError("Inexistent key, key : "+e);n=this._recurseFlatten({},t,e)}return void 0===e?this._data=n:this.push(e,n),this}},{key:"push",value:function(e,n,r){var i=void 0,o=void 0;if("string"!=typeof e)throw new TypeError("Key must be a string");if(r&&"string"!=typeof r)throw new TypeError("Parent key must be a string");return this.has(r)||void 0===r?o=this.dataset(r):(e=r+"."+e,o=this.data),e=e.split("."),i=e.pop(),e.forEach(function(t,e){void 0===o[t]&&(o[t]={}),o=o[t]}),n instanceof t&&(n=n._data),o[i]=n,this}},{key:"remove",value:function(t,e){var n=void 0,r=void 0;return t=this._key(t,e),n=this.parentKey(t),r=this.dataset(n),r&&(t=t.replace(n+".",""),delete r[t]),this}},{key:"import",value:function(e,n){e instanceof t&&(e=e._data);for(var r in e)this.push(r,e[r],n);return this}},{key:"forEach",value:function(t,e,n){var r=void 0,i=0;e=this._key(e,n),r=this.dataset(e);for(var o in r)t.call(this,r[o],o,i++,this.parentKey(e))}},{key:"reduce",value:function(t,e,n,r){var i=e;return n=this._key(n,r),this.forEach(function(e,r){i=t(i,e,r,this.parentKey(n))},n),i}},{key:"stylesToString",value:function(t,e){var n=this.reduce(function(t,e,n){return t+=this.dashize(n)+":"+e+";"}.bind(this),"",t,e);return n.substr(0,n.length-1)}},{key:"stringToStyles",value:function(t,e){var n=void 0;return void 0===t||null===t?this:(n=t.split(";"),n.forEach(function(t){var n=void 0;if(""!==t){n=t.split(":");try{this.push(this.camelize(n[0].trim()),n[1].trim(),e)}catch(t){throw new TypeError("Malformed string for stringToStyles")}}}.bind(this)),this)}},{key:"urlEncode",value:function(t,e){var n=this.reduce(function(t,e,n){return t+=n+"="+encodeURIComponent(e)+"&"},"",t,e);return n.substr(0,n.length-1)}},{key:"formUrlEncode",value:function(t,e){return this.urlEncode(t,e).replace("%20","+")}},{key:"camelize",value:function(t){return t.replace(/[- ]([A-Za-z])/g,function(t){return t[1].toUpperCase()})}},{key:"dashize",value:function(t){return t.replace(/[A-Z]/g,function(t,e){return(e>0?"-":"")+t.toLowerCase()}).replace(/ /g,function(t,e,n){return"-"===n[e+1]?"":"-"})}},{key:"data",get:function(){return this._data},set:function(t){this.import(t)}}]),t}();e.default=u}]).default});