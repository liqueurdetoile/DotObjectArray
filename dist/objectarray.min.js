!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ObjectArray=e():t.ObjectArray=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this._data={},this._throw=void 0,this._pKey=void 0,this.import(e)}return o(t,[{key:"throwing",value:function(t){return this._throw=t,this}},{key:"pKey",value:function(t){return this._pKey=t,this}},{key:"_key",value:function(t,e,i){if(e=e||this._pKey,i=void 0!==this._throw?this._throw:i,e&&(t=e+"."+t),this.has(t))return t;if(i)throw new TypeError("Inexistent key, key : "+t+", Parent key : "+e)}},{key:"clone",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=new t;return e?i._data=this._data:i.import(this._data),i}},{key:"empty",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return void 0===t?this._data={}:this.remove(t,e,i),this}},{key:"length",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.keys(t,e,i).length;if(0!==n||!t)return n}},{key:"keys",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=[],r=void 0;r=void 0===t?this._data:this.dataset(t,e,i);for(var o in r)n.push(o);return n}},{key:"values",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=[],r=void 0;r=void 0===t?this._data:this.dataset(t,e,i);for(var o in r)n.push(r[o]);return n}},{key:"has",value:function(t,e){var i=void 0,n=void 0,r=this._data;if(void 0===t)return!1;for(e&&(t=e+"."+t),t=t.split("."),i=0;i<t.length;i++){if(n=t[i],void 0===r[n])return!1;r=r[n]}return!0}},{key:"check",value:function(t,e,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(this.has(t,i)){var r=this.pull(t,i);return n?e===r:e==r}return!1}},{key:"dataset",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=void 0,r=void 0,o=this.data;if(void 0===t)return o;if(void 0!==(t=this._key(t,e,i))){for(t=t.split("."),n=0;n<t.length;n++)r=t[n],o=o[r];return o}}},{key:"pull",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.dataset(t,e,i)}},{key:"getset",value:function(t,e,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r={set:!1};return void 0===t?r.get=this.pull(i,null,n):"string"==typeof t?void 0===e?r.get=this.pull(t,i,n):(r.set=!0,this.push(t,e,i)):(r.set=!0,this.import(t,e)),r}},{key:"parentKey",value:function(t){if(void 0!==t&&(t=t.split("."),t.pop(),t.length))return t=t.join(".")}},{key:"childKey",value:function(t){if(void 0!==t&&(t=t.split("."),t.shift(),t.length))return t=t.join(".")}},{key:"_recurseFlatten",value:function(t,e,i){var n=void 0,o=this.dataset(i);for(var u in o)"object"===r(o[u])?this._recurseFlatten(t,e,i?i+"."+u:u):(i=this.childKey(i)?this.childKey(i):i,n=e&&i?i+"."+u:u,t[n]=o[u]);return t}},{key:"flatten",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments[1],i=void 0;if(void 0===e)i=this._recurseFlatten({},t);else{if(!this.has(e))throw new TypeError("Inexistent key, key : "+e);i=this._recurseFlatten({},t,e)}return void 0===e?this._data=i:this.push(e,i),this}},{key:"push",value:function(e,i,n){var r=void 0,o=void 0;if(n=n||this._pKey,"string"!=typeof e)throw new TypeError("Key must be a string");if(n&&"string"!=typeof n)throw new TypeError("Parent key must be a string");return this.has(n)||void 0===n?o=this.dataset(n):(e=n+"."+e,o=this.data),e=e.split("."),r=e.pop(),e.forEach(function(t,e){void 0===o[t]&&(o[t]={}),o=o[t]}),i instanceof t&&(i=i._data),o[r]=i,this}},{key:"remove",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=void 0,r=void 0;return t=this._key(t,e,i),void 0===(n=this.parentKey(t))?void 0===t?this:(delete this._data[t],this):(r=this.dataset(n),r&&(t=t.replace(n+".",""),delete r[t]),this)}},{key:"import",value:function(e,i){e instanceof t&&(e=e._data);for(var n in e)this.push(n,e[n],i);return this}},{key:"forEach",value:function(t,e,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=void 0,o=0;r=void 0===e?this._data:this.dataset(e,i,n);for(var u in r)t.call(this,r[u],u,o++,this.parentKey(e))}},{key:"reduce",value:function(t,e,i,n){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=e;if(void 0===i||void 0!==(i=this._key(i,n,r)))return this.forEach(function(e,n){o=t(o,e,n,this.parentKey(i))},i),o}},{key:"stylesToString",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.reduce(function(t,e,i){return t+=this.dashize(i)+":"+e+";"}.bind(this),"",t,e,i);return void 0!==n?n.substr(0,n.length-1):void 0}},{key:"stringToStyles",value:function(t,e){var i=void 0;return void 0===t||null===t?this:(i=t.split(";"),i.forEach(function(t){var i=void 0;if(""!==t){i=t.split(":");try{this.push(this.camelize(i[0].trim()),i[1].trim(),e)}catch(t){throw new TypeError("Malformed string for stringToStyles")}}}.bind(this)),this)}},{key:"urlEncode",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.reduce(function(t,e,i){return t+=i+"="+encodeURIComponent(e)+"&"},"",t,e,i);return void 0!==n?n.substr(0,n.length-1):void 0}},{key:"formUrlEncode",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.urlEncode(t,e,i);return void 0===n?void 0:n.replace("%20","+")}},{key:"camelize",value:function(t){return t.replace(/[- ]([A-Za-z])/g,function(t){return t[1].toUpperCase()})}},{key:"dashize",value:function(t){return t.replace(/[A-Z]/g,function(t,e){return(e>0?"-":"")+t.toLowerCase()}).replace(/ /g,function(t,e,i){return"-"===i[e+1]?"":"-"})}},{key:"data",get:function(){return this._data},set:function(t){this.import(t)}}]),t}();e.default=u}]).default});